<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>编辑dubbo服务入参</title>

    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>
<body>
<div class="layui-container">
    <form class="layui-form" style="margin-top: 2%" lay-skin="line">

        <table class="layui-table">
            <colgroup>
                <col width="150">
                <col width="200">
                <col>
            </colgroup>
            <thead>
            <tr>
                <th>参数名称</th>
                <th>参数类型</th>
                <th>参数值</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="descriptor:${paramDescriptors}">
                <td th:text="${descriptor.name}"></td>
                <td th:text="${descriptor.type}"></td>
                <td th:if="${descriptor.primitive}">
                    <input type="text" th:id="${descriptor.name}" autocomplete="off" placeholder="若可为空则请忽略"
                           class="layui-input value">
                </td>
                <td th:if="${!descriptor.primitive}">
                    <textarea th:id="${descriptor.name}" name="" id="" cols="30" rows="10"
                              placeholder="若可为空则请忽略"></textarea>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script th:src="@{/layui/layui.js}"></script>
<script th:src="@{/admin/js/jquery.js}"></script>
<script th:src="@{/ace/ace.js}"></script>
<script type="text/javascript" th:inline="javascript">

    var description = [[${description}]];
    var contentFunction = null;

    layui.use([
        'util', 'layer',
        'form',
        'jquery'], function () {

        var $ = layui.jquery;
        var layer = layui.layer;
        var form = layui.form;

    });

    function getValue() {
        var param = {};
        var inputs = $('input');
        var text_areas = $('textarea');

        if (inputs != null) {
            for (let i = 0; i < inputs.length; i++) {
                param[inputs[i].id] = inputs[i].value;
            }
        }
        if (text_areas != null) {
            for (let i = 0; i < text_areas.length; i++) {
                param[inputs[i].id] = inputs[i].value;
            }
        }
        return param;
    }
</script>

</body>
</html>